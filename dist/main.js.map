{"version":3,"sources":["webpack://bg_particles/./src/js/mouse.js","webpack://bg_particles/./src/js/Particle.js","webpack://bg_particles/./src/index.js","webpack://bg_particles/./src/js/PBackground.js"],"names":["x","y","radius","dirX","dirY","size","color","canvas","ctx","this","beginPath","arc","Math","PI","fillStyle","fill","isOnCanvasX","isOnCanvasY","checkCollision","draw","dx","mouse","dy","sqrt","width","height","bg","canvasSelector","mouseInteraction","canvasW","window","innerWidth","canvasH","innerHeight","runAnimation","value","particleCount","alpha","document","querySelector","particlesArray","getContext","style","cssText","initListeners","instance","addEventListener","animate","e","undefined","init","numberOfParticles","floor","i","random","push","Particle","requestAnimationFrame","clearRect","length","update","connect","opacity","j","distance","strokeStyle","lineWidth","moveTo","lineTo","stroke"],"mappings":"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","file":"main.js","sourcesContent":["let mouse = {\r\n  x:null,\r\n  y:null,\r\n  radius: 1\r\n};\r\n\r\nexport default mouse;\r\n","import mouse from \"./mouse\";\r\n\r\nclass Particle {\r\n  constructor({x,y,dirX,dirY,size,color,canvas,ctx}) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.dirX = dirX;\r\n    this.dirY = dirY;\r\n    this.size = size;\r\n    this.color = color;\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n  }\r\n\r\n  draw() {\r\n    this.ctx.beginPath();\r\n    this.ctx.arc(this.x,this.y,this.size,0,Math.PI*2,false);\r\n    this.ctx.fillStyle = this.color;\r\n    this.ctx.fill();\r\n  }\r\n\r\n  update() {\r\n    if(this.isOnCanvasX()) {\r\n      this.dirX = -this.dirX;\r\n    }\r\n    if(this.isOnCanvasY()) {\r\n      this.dirY = -this.dirY;\r\n    }\r\n\r\n    //check collision\r\n    this.checkCollision();\r\n\r\n    this.x += this.dirX;\r\n    this.y += this.dirY;\r\n\r\n    this.draw();\r\n\r\n  }\r\n\r\n  checkCollision() {\r\n    let dx = mouse.x - this.x;\r\n    let dy = mouse.y - this.y;\r\n    let distance = Math.sqrt(dx * dx + dy * dy);\r\n    if (distance < mouse.radius + this.size) {\r\n      this.color = 'DarkOrange';\r\n      if (mouse.x < this.x && this.x < this.canvas.width - this.size * 10) {\r\n        this.x += 5;\r\n\r\n      }\r\n      if (mouse.x > this.x && this.x > this.size * 10) {\r\n        this.x -= 5;\r\n      }\r\n      if (mouse.y < this.y && this.y < this.canvas.height - this.size * 10) {\r\n        this.y += 5;\r\n      }\r\n      if (mouse.y > this.y && this.y > this.size * 10) {\r\n        this.y -= 5;\r\n      }\r\n    } else {\r\n      this.color = 'gold';\r\n    }\r\n  }\r\n\r\n  isOnCanvasX() {\r\n    return this.x > this.canvas.width || this.x < 0;\r\n  }\r\n\r\n  isOnCanvasY() {\r\n    return this.y > this.canvas.height || this.y < 0;\r\n  }\r\n}\r\n\r\nexport default Particle;\r\n","import \"./css/main.css\";\r\nimport PBackground from \"./js/PBackground\";\r\n\r\nconst bg = new PBackground({canvasSelector: '#canvas1'});\r\nbg.init();\r\nbg.animate();\r\n\r\n//vytvori instanciu celeho pozadia, nastavenia cez konstructor // rychlost, pozadie, enable disable mouse interaction\r\n\r\n\r\n//module.exports.PBackground = PBackground;\r\n","import Particle from \"./Particle\";\r\nimport mouse from \"./mouse\";\r\n\r\n/**\r\n * Class for making particle background on canvas.\r\n * Canvas element with given selector must exist on page\r\n *\r\n * @param {string} canvasSelector Selector for finding canvas element\r\n *\r\n * @param {boolean} mouseInteraction Enables interaction between particles and cursor\r\n *\r\n * @param {number} canvasW width of canvas\r\n *\r\n * @param {number} canvasH height of canvas\r\n *\r\n * @param {Object.<boolean>} runAnimation Enables animation of particles\r\n *\r\n * @param {number} particleCount Number of particles, Higher the number, LESS of the particles\r\n *\r\n * @param {boolean} alpha Boolean that indicates if the canvas contains an alpha buffer.\r\n *\r\n * @param {string} bg Background of canvas\r\n *\r\n * @constructor\r\n */\r\nclass PBackground {\r\n  constructor({canvasSelector = '#canvas',\r\n                mouseInteraction = true,\r\n                canvasW = window.innerWidth,\r\n                canvasH = window.innerHeight,\r\n                runAnimation = { value: true},\r\n                particleCount = 9000,alpha= false,\r\n                bg = 'black'} = {}) {\r\n\r\n    this.canvasSelector = canvasSelector;\r\n    this.canvas = document.querySelector(canvasSelector);\r\n    this.canvas.width = canvasW;\r\n    this.canvas.height = canvasH;\r\n    this.runAnimation = runAnimation;\r\n    this.particlesArray = [];\r\n    this.particleCount = particleCount;\r\n    this.alpha = alpha;\r\n\r\n    mouse.radius = (this.canvas.height /110) * (this.canvas.width/110);\r\n\r\n    this.ctx = this.canvas.getContext('2d', {alpha: true});\r\n\r\n    this.canvas.style.cssText = bg;\r\n\r\n    this.initListeners();\r\n  }\r\n\r\n  initListeners() {\r\n\r\n    let instance = this;\r\n\r\n    document.querySelector(this.canvasSelector).addEventListener('click', function () {\r\n      this.runAnimation.value = !this.runAnimation.value;\r\n\r\n      if (this.runAnimation.value) {\r\n        instance.animate();\r\n      }\r\n    });\r\n\r\n    window.addEventListener('mousemove', e => {\r\n      mouse.x = e.x;\r\n      mouse.y = e.y;\r\n    });\r\n\r\n    window.addEventListener('mouseout', e => {\r\n      mouse.x = undefined;\r\n      mouse.y = undefined;\r\n    });\r\n\r\n    window.addEventListener('resize', e => {\r\n      this.canvas.width = innerWidth;\r\n      this.canvas.height = innerHeight;\r\n      mouse.radius = ((this.canvas.height / 100) * (this.canvas.height / 100));\r\n      this.init();\r\n    })\r\n  }\r\n\r\n  init() {\r\n    this.particlesArray = [];\r\n    let numberOfParticles = Math.floor((this.canvas.height * this.canvas.width) / this.particleCount);\r\n\r\n    for (let i = 0; i < numberOfParticles; i++) {\r\n      let size = (Math.random() * 7) + 2;\r\n      let x = (Math.random() * ((this.canvas.width - size * 2) - (size * 2)) + size * 2);\r\n      let y = (Math.random() * ((this.canvas.height - size * 2) - (size * 2)) + size * 2);\r\n\r\n      let dirX = (Math.random() * 5) - 2.5;\r\n      let dirY = (Math.random() * 5) - 2.5;\r\n\r\n      let color = 'gold';\r\n\r\n      this.particlesArray.push(new Particle({\r\n        x:x, y:y, dirX:dirX, dirY:dirY, size:size, color: color, canvas: this.canvas, ctx:this.ctx\r\n      }));\r\n    }\r\n  }\r\n\r\n  animate() {\r\n    //if (this.runAnimation.value) {\r\n      requestAnimationFrame(() => this.animate());\r\n      this.ctx.clearRect(0, 0, innerWidth, innerHeight);\r\n\r\n      for (let i = 0; i < this.particlesArray.length; i++) {\r\n        this.particlesArray[i].update();\r\n      }\r\n      this.connect();\r\n    //}\r\n  }\r\n\r\n  connect() {\r\n    let opacity = 0.5;\r\n    for (let i = 0; i < this.particlesArray.length; i++) {\r\n      for (let j = i; j < this.particlesArray.length; j++) {\r\n        let distance = ((this.particlesArray[i].x - this.particlesArray[j].x) * (this.particlesArray[i].x - this.particlesArray[j].x)) + ((this.particlesArray[i].y - this.particlesArray[j].y) * (this.particlesArray[i].y - this.particlesArray[j].y));\r\n\r\n        if (distance < (this.canvas.width / 7) * (this.canvas.height / 7)) {\r\n          opacity = 1 - (distance / 20000);\r\n          this.ctx.strokeStyle = `rgba(255, 215, 0, ${opacity})`;\r\n          this.ctx.lineWidth = this.particlesArray[i].size / 5;\r\n          this.ctx.beginPath();\r\n          this.ctx.moveTo(this.particlesArray[i].x, this.particlesArray[i].y);\r\n          this.ctx.lineTo(this.particlesArray[j].x, this.particlesArray[j].y);\r\n          this.ctx.stroke();\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default PBackground;\r\n"],"sourceRoot":""}